<mat-drawer-container
  class="sidenav-wrapper"
  [ngClass]="{
    'with-margin': sideNavBtnStatus,
    'without-margin': !sideNavBtnStatus
  }"
  autosize
  opened disableClose="true"
>
  <mat-drawer #drawer class="sidenav-container" mode="side" opened="true">

    <div class="horicontal spaceBetween">
      <div class="channel-header-left horicontal">
        <img src="./../../assets/img/channel-logo.png" />
        <h4 class="bold">Code learning</h4>
      </div>
      <div class="add-channel-img"></div>
    </div>

    <div class="channels-content column">
      <div class="horicontal spaceBetween channel-dropdown">
        <div
          (click)="toggleRotationChannel()"
          class="open-channel horicontal"
          (mouseenter)="changeImagesChannel(true)"
          (mouseleave)="changeImagesChannel(false)"
        >
          <img
            [@rotateAnimation]="isOpen ? 'open' : 'closed'"
            [src]="openMenuChannel"
          />
          <div class="channel-title horicontal">
            <img [src]="workspaceChannel" class="icon-size-24" />
            <h3 class="bold">Channels</h3>
          </div>
        </div>
        <div class="add-channel-plus-img" (click)="openAddChannels()"></div>
      </div>

      <div *ngIf="!isOpen" class="add-channel">
        <div class="custom-scroll-box scroll-bar">
          <div
            class="channel-area"
            [ngStyle]="{
              display: firebase.channelsArray.length === 0 ? 'none' : 'flex'
            }"
          >
            <div
              *ngFor="let channel of firebase.currentUserWithRights"
              class="channel"
              (click)="selectChannel('channel', channel.channelId)"
            >
              <div
                class="hashtag-and-name horicontal"
                [ngClass]="{
                  channelIsActive:
                    channel.channelId === firebase.currentChannelId
                }"
              >
                <div class="icon-size-24 hashtag"></div>
                <span class="fs18 channel-name">{{
                  channel.channelName
                }}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="horicontal add-channel-text" (click)="openAddChannels()">
          <div class="circle-add-channel-img"></div>
          <span class="fs18">Channel hinzufügen</span>
        </div>
      </div>
    </div>

    <div class="column">
      <div
        (mouseenter)="changeImageMessages(true)"
        (mouseleave)="changeImageMessages(false)"
        class="horicontal messages-header dropdown"
        (click)="toggleRotationMessage()"
      >
        <div class="horicontal">
          <img
            [@rotateAnimation]="isOpenSecond ? 'open' : 'closed'"
            [src]="openMenuMessage"
          />
          <img [src]="directNewsImage" class="messages-header-profile-img" />
        </div>
        <h3 class="bold">Direktnachrichten</h3>
      </div>

      <div *ngIf="!isOpenSecond" class="messages-users">
        <div class="custom-scroll-box scroll-bar">
          <div class="members-list-box" *ngIf="!isOpenSecond">
            <div
              class="members-list horicontal"
              *ngFor="let user of firebase.usersArray"
              (click)="selectChannel('privateChat', user)"
              [ngClass]="{ privateChatIsActive: comparePrivateChatId(user.userId) }"
            >
              <div class="profile-img-and-status">
                <div
                  [style.background-image]="'url(' + user.profileImg + ')'"
                  class="profile-img"
                ></div>
                <img
                  [src]="
                    user.status
                      ? './../../../assets/img/online.png'
                      : './../../../assets/img/offline.png'
                  "
                  class="status"
                />
              </div>

              <span class="fs18 userName maxNameLenth">{{ user.name }}<span class="fs18 userName" *ngIf="user.userId === firebase.loggedInUserId"> (Du)</span></span>
            </div>
          </div>
        </div>
      </div>
    </div>

  </mat-drawer>

</mat-drawer-container>

<div class="sidenav-button">
  <button
    class="horicontal"
    type="button"
    mat-button
    (click)="drawer.toggle(); checkSideNavBtnStatus()"
    (mouseenter)="changeImagesButton(true)"
    (mouseleave)="changeImagesButton(false)"
  >
    <h4 class="close-btn-text">Workspace-Menü schließen</h4>
    <img [src]="buttonImage" />
  </button>
</div>
